<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        body {
            height: 3000px;
        }
        span {
            width: 43px;
            height: 43px;
            background: url("images/back_top.png") no-repeat;
            -webkit-background-size: 100%;
            background-size: 100%;

            position: fixed;
            right: 30px;
            bottom: 30px;

            display: none;
        }
    </style>
</head>
<body>
    <span id="top"></span>
    <div>请滚动</div>
    <script src="./js/LKTool.js"></script>
    <script>
        window.addEventListener('load',function () {
            //0.变量
            var scrollTopH,timerId,begin,end = 0;

            //1.监听页面的滚动
            window.addEventListener('scroll',function () {
                //1.1 获取滚动产生的高度
                scrollTopH = scroll().top;

                //1.2 按钮的显示和隐藏
                scrollTopH > 0 ? show($("top")) : hide($('top'));

                //1.3 设置起始值
                begin = scrollTopH;
            });

            //2.监听点击
            $("top").addEventListener('click',function () {
                //2.1 清除定时器
                clearInterval(timerId);

                //2.2 设置定时器
                timerId = setInterval(function () {
                    begin += (end - begin) * 0.2;
                    window.scrollTo(0,begin);

                    if (Math.round(begin) === end) {
                        clearInterval(timerId);
                    }
                },20);
            });
        });
    </script>
</body>
</html>